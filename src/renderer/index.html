<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScribeCat</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <button id="sidebar-toggle" class="sidebar-toggle" title="Toggle Sidebar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <div class="logo-container">
                    <img src="../../assets/images/nugget.png" alt="ScribeCat" class="logo" onerror="this.style.display='none'">
                    <h1 class="app-title">ScribeCat</h1>
                </div>
            </div>
            <div class="header-center">
                <!-- This will remain empty for centered spacing -->
            </div>
            <div class="header-right">
                <div class="clock-section">
                    <div class="clock" id="clock">
                        <div class="time">12:00 PM</div>
                        <div class="date">Monday, Jan 1</div>
                    </div>
                    <div class="status-chips">
                        <div class="status-chip" id="audio-status" title="Audio Status - Click for details">
                            <div class="status-indicator"></div>
                            <span>Audio</span>
                        </div>
                        <div class="status-chip" id="transcription-status" title="Transcription Status - Click for details">
                            <div class="status-indicator"></div>
                            <span>AI</span>
                        </div>
                        <div class="status-chip" id="drive-status" title="Drive Status - Click for details">
                            <div class="status-indicator"></div>
                            <span>Drive</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>


        <!-- Floating Sidebar -->
        <aside class="sidebar" id="sidebar">
            <button class="sidebar-close">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <div class="sidebar-section">
                <h3>Themes</h3>
                <div class="theme-grid" id="theme-grid">
                    <div class="theme-swatch-card" data-theme="default" title="Default">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #6366f1;"></div>
                            <div class="color-dot" style="background: #f8fafc;"></div>
                            <div class="color-dot" style="background: #ffffff;"></div>
                        </div>
                        <span class="theme-name">Default</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="sunrise-burst" title="Sunrise Burst">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #ff6b35;"></div>
                            <div class="color-dot" style="background: #ffe4d1;"></div>
                            <div class="color-dot" style="background: #ffd700;"></div>
                        </div>
                        <span class="theme-name">Sunrise</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="ocean-breeze" title="Ocean Breeze">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #00cec9;"></div>
                            <div class="color-dot" style="background: #e6fffa;"></div>
                            <div class="color-dot" style="background: #ff7675;"></div>
                        </div>
                        <span class="theme-name">Ocean</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="spring-meadow" title="Spring Meadow">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #00b894;"></div>
                            <div class="color-dot" style="background: #e6ffee;"></div>
                            <div class="color-dot" style="background: #ffd93d;"></div>
                        </div>
                        <span class="theme-name">Spring</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="cherry-blossom" title="Cherry Blossom">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #fd79a8;"></div>
                            <div class="color-dot" style="background: #fce7f3;"></div>
                            <div class="color-dot" style="background: #a4de6c;"></div>
                        </div>
                        <span class="theme-name">Blossom</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="golden-hour" title="Golden Hour">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #fdcb6e;"></div>
                            <div class="color-dot" style="background: #fef5e7;"></div>
                            <div class="color-dot" style="background: #ff7675;"></div>
                        </div>
                        <span class="theme-name">Golden</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="tropical-vibes" title="Tropical Vibes">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #55efc4;"></div>
                            <div class="color-dot" style="background: #e6ffee;"></div>
                            <div class="color-dot" style="background: #fd79a8;"></div>
                        </div>
                        <span class="theme-name">Tropical</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="electric-dreams" title="Electric Dreams">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #6c5ce7;"></div>
                            <div class="color-dot" style="background: #f3e8ff;"></div>
                            <div class="color-dot" style="background: #ff6b9d;"></div>
                        </div>
                        <span class="theme-name">Electric</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="citrus-fresh" title="Citrus Fresh">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #a4de6c;"></div>
                            <div class="color-dot" style="background: #f0fff0;"></div>
                            <div class="color-dot" style="background: #ff9f43;"></div>
                        </div>
                        <span class="theme-name">Citrus</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="cosmic-joy" title="Cosmic Joy">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #0984e3;"></div>
                            <div class="color-dot" style="background: #eff6ff;"></div>
                            <div class="color-dot" style="background: #ffd700;"></div>
                        </div>
                        <span class="theme-name">Cosmic</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="candy-pop" title="Candy Pop">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #ff7675;"></div>
                            <div class="color-dot" style="background: #fed7d7;"></div>
                            <div class="color-dot" style="background: #74b9ff;"></div>
                        </div>
                        <span class="theme-name">Candy</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="forest-dance" title="Forest Dance">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #00b894;"></div>
                            <div class="color-dot" style="background: #dcfce7;"></div>
                            <div class="color-dot" style="background: #f59e0b;"></div>
                        </div>
                        <span class="theme-name">Forest</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="arctic-aurora" title="Arctic Aurora">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #74b9ff;"></div>
                            <div class="color-dot" style="background: #eff6ff;"></div>
                            <div class="color-dot" style="background: #55efc4;"></div>
                        </div>
                        <span class="theme-name">Aurora</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="sunset-glow" title="Sunset Glow">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #e17055;"></div>
                            <div class="color-dot" style="background: #ffe4d1;"></div>
                            <div class="color-dot" style="background: #fdcb6e;"></div>
                        </div>
                        <span class="theme-name">Sunset</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="rainbow-joy" title="Rainbow Joy">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #fd79a8;"></div>
                            <div class="color-dot" style="background: #fce7f3;"></div>
                            <div class="color-dot" style="background: #00cec9;"></div>
                        </div>
                        <span class="theme-name">Rainbow</span>
                    </div>
                    <div class="theme-swatch-card" data-theme="midnight-magic" title="Midnight Magic">
                        <div class="theme-colors">
                            <div class="color-dot" style="background: #6c5ce7;"></div>
                            <div class="color-dot" style="background: #16213e;"></div>
                            <div class="color-dot" style="background: #74b9ff;"></div>
                        </div>
                        <span class="theme-name">Midnight</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Canvas Integration</h3>
                <div class="canvas-settings">
                    <input type="text" id="canvas-url" placeholder="Canvas URL" class="input-field">
                    <div class="course-selection">
                        <select id="course-select" class="input-field">
                            <option value="">Select Course</option>
                            <option value="other">Other (Manual Entry)</option>
                        </select>
                        <div id="manual-course-fields" class="manual-course-fields" style="display: none;">
                            <input type="text" id="course-number" placeholder="Course Number" class="input-field">
                            <input type="text" id="course-title" placeholder="Course Title" class="input-field">
                        </div>
                    </div>
                    <div class="canvas-buttons">
                        <button id="save-canvas" class="btn btn-small">Save</button>
                        <button id="manage-courses" class="btn btn-small">Manage Courses</button>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Google Drive</h3>
                <div class="drive-setup-info" style="margin-bottom: 12px;">
                    <p style="font-size: 12px; color: #666; margin: 0 0 8px 0;">
                        Need Google Drive for Desktop? 
                        <a href="#" id="drive-download-link" style="color: #1a73e8;">Download here</a>
                    </p>
                </div>
                <div class="drive-settings">
                    <div class="drive-folder-setting" style="margin-bottom: 12px;">
                        <label style="font-weight: bold; margin-bottom: 4px; display: block;">Notes Folder:</label>
                        <input type="text" id="notes-drive-folder" placeholder="Select Drive folder for notes" class="input-field" readonly>
                        <button id="select-notes-drive-folder" class="btn btn-small">Select Folder</button>
                    </div>
                    <div class="drive-folder-setting">
                        <label style="font-weight: bold; margin-bottom: 4px; display: block;">Transcription Folder:</label>
                        <input type="text" id="transcription-drive-folder" placeholder="Select Drive folder for transcriptions" class="input-field" readonly>
                        <button id="select-transcription-drive-folder" class="btn btn-small">Select Folder</button>

                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Audio Settings</h3>
                <div class="audio-settings">
                    <div class="audio-destination" style="margin-bottom: 16px;">
                        <label style="font-weight: bold; margin-bottom: 8px; display: block;">Audio File Destination:</label>
                        <div style="margin-bottom: 8px;">
                            <label style="display: flex; align-items: center; margin-bottom: 4px;">
                                <input type="radio" name="audio-destination" value="local" id="audio-dest-local" style="margin-right: 8px;">
                                <span>Download to Local Folder</span>
                            </label>
                            <label style="display: flex; align-items: center;">
                                <input type="radio" name="audio-destination" value="drive" id="audio-dest-drive" style="margin-right: 8px;">
                                <span>Upload to Google Drive</span>
                            </label>
                        </div>
                    </div>
                    <div class="local-folder-settings" style="margin-bottom: 12px;">
                        <label>Local Audio Folder:</label>
                        <input type="text" id="local-audio-folder" placeholder="Select local folder for audio files" class="input-field" readonly>
                        <button id="select-local-audio-folder" class="btn btn-small">Select Folder</button>
                    </div>
                    <label>
                        <input type="checkbox" id="vocal-isolation"> Vocal Isolation
                    </label>
                    <select id="microphone-select" class="input-field">
                        <option value="">Select Microphone</option>
                    </select>
                    <div style="margin-top:12px">
                        <label for="transcription-backend">Transcription Backend:</label>
                        <select id="transcription-backend" class="input-field">
                            <option value="vosk">Vosk (Offline)</option>
                            <option value="whisper">Whisper (Optional)</option>
                        </select>

                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>OpenAI API</h3>
                <div class="openai-settings">
                    <p style="font-size:12px;color:#666;margin-bottom:8px;">
                        Using developer key by default. Optionally provide your own key for guaranteed access.
                    </p>
                    <input type="text" id="openai-key" placeholder="Your OpenAI API Key (optional)" class="input-field">
                    <button id="save-openai-key" class="btn btn-small">Save Your Key</button>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content" id="main-content">
                <!-- Recording Controls -->
                <div class="recording-controls">
                    <button id="record-btn" class="btn btn-primary record-btn" title="Start recording audio and transcription">
                        <svg class="record-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="10"/>
                        </svg>
                        Start Recording
                    </button>
                    <div class="recording-time" id="recording-time">00:00</div>
                    
                    <!-- VU Meter -->
                    <div class="vu-meter" id="vu-meter" style="display: none;">
                        <label>Audio Level:</label>
                        <div class="vu-bar-container">
                            <div class="vu-bar" id="vu-bar"></div>
                        </div>
                    </div>
                    
                    <button id="pause-btn" class="btn btn-sm" disabled title="Pause current recording">Pause</button>
                    <button id="resume-btn" class="btn btn-sm" disabled title="Resume paused recording">Resume</button>
                    <button id="stop-btn" class="btn btn-danger btn-sm" disabled title="Stop recording and enable save">Stop</button>
                    <button id="save-btn" class="btn btn-success btn-sm" disabled title="Save recording, notes, and transcription">Save</button>
                </div>

                <!-- Content Container -->
                <div class="content-container">
                    <!-- Notes Editor -->
                    <div class="editor-section">
                        <div class="editor-header">
                            <h2>Notes</h2>
                        </div>
                        <div class="formatting-toolbar">
                            <!-- Font and Size Controls -->
                            <select id="font-family" class="font-selector" title="Change font family for notes editor" title="Font Family">
                                <optgroup label="Traditional Serif">
                                    <option value="Times New Roman">Times New Roman</option>
                                    <option value="Georgia">Georgia</option>
                                    <option value="Garamond">Garamond</option>
                                    <option value="Book Antiqua">Book Antiqua</option>
                                    <option value="Palatino">Palatino</option>
                                </optgroup>
                                <optgroup label="Non-Traditional Serif">
                                    <option value="Playfair Display">Playfair Display</option>
                                    <option value="Crimson Text">Crimson Text</option>
                                    <option value="Libre Baskerville">Libre Baskerville</option>
                                    <option value="Merriweather">Merriweather</option>
                                    <option value="Vollkorn">Vollkorn</option>
                                </optgroup>
                                <optgroup label="Traditional Sans Serif">
                                    <option value="Arial">Arial</option>
                                    <option value="Helvetica">Helvetica</option>
                                    <option value="Calibri">Calibri</option>
                                    <option value="Tahoma">Tahoma</option>
                                    <option value="Verdana">Verdana</option>
                                    <option value="Geneva">Geneva</option>
                                    <option value="Lucida Sans">Lucida Sans</option>
                                    <option value="Trebuchet MS">Trebuchet MS</option>
                                    <option value="Century Gothic">Century Gothic</option>
                                    <option value="Franklin Gothic">Franklin Gothic</option>
                                </optgroup>
                                <optgroup label="Non-Traditional Sans Serif">
                                    <option value="Inter" selected>Inter</option>
                                    <option value="Roboto">Roboto</option>
                                    <option value="Open Sans">Open Sans</option>
                                    <option value="Lato">Lato</option>
                                    <option value="Montserrat">Montserrat</option>
                                    <option value="Source Sans Pro">Source Sans Pro</option>
                                    <option value="Nunito">Nunito</option>
                                    <option value="Poppins">Poppins</option>
                                    <option value="Raleway">Raleway</option>
                                    <option value="Work Sans">Work Sans</option>
                                </optgroup>
                            </select>
                            
                            <select id="font-size" class="font-size-selector" title="Font Size">
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="14">14</option>
                                <option value="16" selected>16</option>
                                <option value="18">18</option>
                                <option value="20">20</option>
                                <option value="22">22</option>
                                <option value="24">24</option>
                                <option value="26">26</option>
                                <option value="28">28</option>
                                <option value="36">36</option>
                                <option value="48">48</option>
                                <option value="72">72</option>
                            </select>
                            
                            <button class="format-btn" id="font-grow" title="Increase Font Size (Ctrl++)">A+</button>
                            <button class="format-btn" id="font-shrink" title="Decrease Font Size (Ctrl+-)">A-</button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Formatting Controls -->
                            <button class="format-btn" data-command="bold" title="Bold (Ctrl+B)"><b>B</b></button>
                            <button class="format-btn" data-command="italic" title="Italic (Ctrl+I)"><i>I</i></button>
                            <button class="format-btn" data-command="underline" title="Underline (Ctrl+U)"><u>U</u></button>
                            <button class="format-btn" data-command="strikethrough" title="Strikethrough">S̶</button>
                            <button class="format-btn" data-command="subscript" title="Subscript">X₂</button>
                            <button class="format-btn" data-command="superscript" title="Superscript">X²</button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Text Color and Highlighting -->
                            <div class="color-selector-group">
                                <input type="color" id="font-color" class="color-selector" value="#000000" title="Font Color">
                                <button class="format-btn color-btn" id="font-color-btn" title="Font Color">A</button>
                            </div>
                            <div class="color-selector-group">
                                <input type="color" id="highlight-color" class="color-selector" value="#ffd200" title="Highlight Color">
                                <button class="format-btn" data-command="hiliteColor" title="Highlight">🖍</button>
                            </div>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Text Alignment -->
                            <button class="format-btn" data-command="justifyLeft" title="Align Left">⬅</button>
                            <button class="format-btn" data-command="justifyCenter" title="Align Center">↔</button>
                            <button class="format-btn" data-command="justifyRight" title="Align Right">➡</button>
                            <button class="format-btn" data-command="justifyFull" title="Justify">≡</button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Lists and Indentation -->
                            <button class="format-btn" data-command="insertUnorderedList" title="Bullet List">•</button>
                            <button class="format-btn" data-command="insertOrderedList" title="Numbered List">1.</button>
                            <button class="format-btn" data-command="indent" title="Indent">→</button>
                            <button class="format-btn" data-command="outdent" title="Outdent">←</button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Undo/Redo -->
                            <button class="format-btn" data-command="undo" title="Undo (Ctrl+Z)">↶</button>
                            <button class="format-btn" data-command="redo" title="Redo (Ctrl+Y)">↷</button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Advanced Formatting -->
                            <select id="text-style" class="style-selector" title="Text Style">
                                <option value="">Normal</option>
                                <option value="h1">Heading 1</option>
                                <option value="h2">Heading 2</option>
                                <option value="h3">Heading 3</option>
                                <option value="h4">Heading 4</option>
                                <option value="p">Paragraph</option>
                                <option value="blockquote">Quote</option>
                                <option value="pre">Code Block</option>
                            </select>
                            
                            <button class="format-btn" id="insert-link" title="Insert Link (Ctrl+K)">
                                <svg viewBox="0 0 24 24" width="14" height="14">
                                    <path d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" fill="currentColor"/>
                                </svg>
                            </button>
                            <button class="format-btn" id="insert-table" title="Insert Table">
                                <svg viewBox="0 0 24 24" width="14" height="14">
                                    <path d="M5,4H19A2,2 0 0,1 21,6V18A2,2 0 0,1 19,20H5A2,2 0 0,1 3,18V6A2,2 0 0,1 5,4M5,8V12H11V8H5M13,8V12H19V8H13M5,14V18H11V14H5M13,14V18H19V14H13Z" fill="currentColor"/>
                                </svg>
                            </button>
                            <button class="format-btn" id="insert-image" title="Insert Image">
                                <svg viewBox="0 0 24 24" width="14" height="14">
                                    <path d="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z" fill="currentColor"/>
                                </svg>
                            </button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Line Spacing -->
                            <select id="line-spacing" class="spacing-selector" title="Line Spacing">
                                <option value="1">1.0</option>
                                <option value="1.15">1.15</option>
                                <option value="1.5" selected>1.5</option>
                                <option value="2">2.0</option>
                                <option value="2.5">2.5</option>
                                <option value="3">3.0</option>
                            </select>
                            
                            <!-- Find/Replace -->
                            <button class="format-btn" id="find-replace" title="Find & Replace (Ctrl+F)">
                                <svg viewBox="0 0 24 24" width="14" height="14">
                                    <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" fill="currentColor"/>
                                </svg>
                            </button>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Word Count -->
                            <span class="word-count" id="word-count" title="Word Count">0 words</span>
                            
                            <div class="toolbar-separator"></div>
                            
                            <!-- Clear Formatting -->
                            <button class="format-btn" data-command="removeFormat" title="Clear Formatting">
                                <svg viewBox="0 0 24 24" width="14" height="14">
                                    <path d="M6,5V5.18L8.82,8H11.22L10.5,9.68L12.6,11.78C13.07,10.95 13.36,9.86 13.36,8.5C13.36,7.65 13.18,6.85 12.87,6.18H20V4H6M2.27,2.27L20.73,20.73L19.32,22.14L17.5,20.32L17.5,20H4V18L6.31,18L2.27,2.27M8.82,8L4.68,3.86L6.09,2.45L10.23,6.59L8.82,8Z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                        <div id="notes-editor" class="notes-editor" contenteditable="true" 
                             placeholder="Start typing your notes here..."></div>
                        <div id="ai-summary-container" style="margin-top:24px;">
                            <button id="generate-summary" class="btn btn-primary" style="width:100%;margin-bottom:12px;" title="Generate AI summary of notes and transcription">Generate AI Summary</button>
                            <div id="ai-summary" class="notes-editor" style="min-height:80px;background:#f8fafc;border:1px solid #e2e8f0;"></div>
                        </div>
                    </div>

                    <!-- Transcription Panel -->
                    <div class="transcription-section">
                        <div class="transcription-header">
                            <h2>Live Transcription</h2>
                            <div class="transcription-controls">
                                <button id="clear-transcription" class="btn btn-small" title="Clear all transcription text">Clear</button>
                                <button id="jump-latest" class="btn btn-small" title="Scroll to latest">Jump to Latest</button>
                            </div>
                        </div>
                        <div id="transcription-display" class="transcription-display"></div>
                    </div>
                </div>

                <!-- AI Chat Window -->
                <div class="ai-chat collapsed" id="ai-chat">
                    <div class="ai-chat-resize-handle" id="ai-chat-resize-handle" title="Drag to resize chat window"></div>
                    <div class="chat-header">
                        <h3>Ask AI</h3>
                        <button id="toggle-chat" class="chat-toggle-btn" title="Expand or collapse Ask AI chat">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6,9 12,15 18,9"></polyline>
                            </svg>
                        </button>
                    </div>
                    <div class="chat-content" id="chat-content">
                        <div class="chat-messages" id="chat-messages"></div>
                        <div class="chat-input-container">
                            <input type="text" id="chat-input" placeholder="Ask about your notes or transcription..." class="chat-input">
                            <button id="send-chat" class="btn btn-primary btn-small" title="Send message to AI assistant">Send</button>
                        </div>
                    </div>
                </div>
            </main>

        <!-- Version Info -->
        <div class="version-info" id="version-info">v1.0.0</div>
        
        <!-- Sidebar Scrim -->
        <div class="sidebar-scrim" id="sidebar-scrim"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>